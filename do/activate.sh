if [ ! -f "do/activate.sh" ]; then
  echo "Please activate the environment at root directory."
  echo "Runs source do/activate.sh"
  exit 1
fi

# The git repository that do installed from.
# https://github.com/agilityio/oh-my-ops
DO_INSTALL_REPO="agilityio/oh-my-ops"
DO_VERSION="0.1.1"

# The array of plugin name to be included. If this variable is not specified
# all plugins found will be included by default.

DO_PLUGINS="proj git full prompt banner mongo postgres keycloak neo4j redis npm tmux make sphinx exec"
DO_ENVS='local prod'

cd do
source "src/init.sh"
cd ..

_do_log_level_info 'app'


# ------------------------------------------------------------------------------
# proj plugin
# ------------------------------------------------------------------------------
_do_proj '.' 'proj'

# ------------------------------------------------------------------------------
# full plugin
# ------------------------------------------------------------------------------
_do_full_proj 'proj'

# ------------------------------------------------------------------------------
# git plugin
# ------------------------------------------------------------------------------
_do_git 'proj'

# ------------------------------------------------------------------------------
# mongo plugin
# ------------------------------------------------------------------------------
_do_mongo 'proj'

# ------------------------------------------------------------------------------
# postgres plugin
# ------------------------------------------------------------------------------
_do_postgres 'proj'

# ------------------------------------------------------------------------------
# keycloak plugin
# ------------------------------------------------------------------------------
_do_keycloak 'proj'

# ------------------------------------------------------------------------------
# redis plugin
# ------------------------------------------------------------------------------
_do_redis 'proj'

# ------------------------------------------------------------------------------
# neo4j plugin
# ------------------------------------------------------------------------------
_do_neo4j 'proj'

# ------------------------------------------------------------------------------
# tmux plugin
# ------------------------------------------------------------------------------
_do_tmux 'proj'

# ------------------------------------------------------------------------------
# do
# ------------------------------------------------------------------------------
_do_repo 'do' 'do'

# ------------------------------------------------------------------------------
# make plugin
# ------------------------------------------------------------------------------
_do_repo 'make' 'make'
_do_make_cli 'make'

# ------------------------------------------------------------------------------
# exec plugin
# ------------------------------------------------------------------------------
_do_exec 'proj' 'bin'

# ------------------------------------------------------------------------------
# sphinx plugin
# ------------------------------------------------------------------------------
_do_repo 'doc' 'doc'
_do_sphinx 'doc'

# ------------------------------------------------------------------------------
# banner plugin
# ------------------------------------------------------------------------------
# http://patorjk.com/software/taag/#p=display&f=ANSI%20Shadow&t=hugepig
_do_banner 'Demo.'
